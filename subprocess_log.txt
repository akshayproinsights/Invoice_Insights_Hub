--- Starting Invoice Processor Subprocess (Gemini Powered) ---
âœ… R2 Client initialized successfully from environment.
âœ… GCP Credentials initialized successfully from environment.
Found 9 file(s) in R2 'uploads/' folder.
Found 0 existing unique files in Google Sheet.
Starting to process 9 new files...
â³ Processing with Gemini: 20251208_160257_IMG_20251204_184550445.jpg...
DEBUG: Initializing model: gemini-2.0-flash
â³ Processing with Gemini: 20251208_160257_IMG_20251204_184603669.jpg...
DEBUG: Initializing model: gemini-2.0-flash
âœ… Finished: 20251208_160257_IMG_20251204_184603669.jpg (3 items)
âœ… Finished: 20251208_160257_IMG_20251204_184550445.jpg (8 items)
ğŸ“¤ Uploading batch of 11 records to Google Sheets...
   -> Updating 'Invoice All'...
â³ Processing with Gemini: 20251208_160257_IMG_20251204_184610498.jpg...
DEBUG: Initializing model: gemini-2.0-flash
âœ… Successfully appended 11 new records to Google Sheet.
   -> Updating 'Invoice Verification Required' (1 rows)...
â³ Processing with Gemini: 20251208_160257_IMG_20251204_184624192.jpg...
DEBUG: Initializing model: gemini-2.0-flash
âœ… Successfully appended 1 new records to Google Sheet.
âœ… Batch processed.
âœ… Finished: 20251208_160257_IMG_20251204_184610498.jpg (3 items)
âœ… Finished: 20251208_160257_IMG_20251204_184624192.jpg (1 items)
â³ Processing with Gemini: 20251208_160258_IMG_20251204_184637253.jpg...
DEBUG: Initializing model: gemini-2.0-flash
â³ Processing with Gemini: 20251208_160258_IMG_20251204_184644945.jpg...
DEBUG: Initializing model: gemini-2.0-flash
âœ… Finished: 20251208_160258_IMG_20251204_184637253.jpg (10 items)
ğŸ“¤ Uploading batch of 14 records to Google Sheets...
   -> Updating 'Invoice All'...
âœ… Successfully appended 14 new records to Google Sheet.
   -> Updating 'Invoice Verification Required' (1 rows)...
âœ… Successfully appended 1 new records to Google Sheet.
âœ… Batch processed.
âœ… Finished: 20251208_160258_IMG_20251204_184644945.jpg (9 items)
ğŸ“¤ Uploading batch of 9 records to Google Sheets...
   -> Updating 'Invoice All'...
â³ Processing with Gemini: 20251209_085142_IMG_20251129_141509401.jpg...
DEBUG: Initializing model: gemini-2.0-flash
âœ… Successfully appended 9 new records to Google Sheet.
âœ… Batch processed.
â³ Processing with Gemini: 20251209_085812_IMG_20251129_141545059.jpg...
DEBUG: Initializing model: gemini-2.0-flash
âœ… Finished: 20251209_085812_IMG_20251129_141545059.jpg (8 items)
ğŸ“¤ Uploading batch of 8 records to Google Sheets...
   -> Updating 'Invoice All'...
âœ… Successfully appended 8 new records to Google Sheet.
âœ… Batch processed.
âœ… Finished: 20251209_085142_IMG_20251129_141509401.jpg (15 items)
ğŸ“¤ Uploading batch of 15 records to Google Sheets...
   -> Updating 'Invoice All'...
â³ Processing with Gemini: 20251209_131419_testing.jpg...
DEBUG: Initializing model: gemini-2.0-flash
âœ… Successfully appended 15 new records to Google Sheet.
   -> Updating 'Invoice Verification Required' (2 rows)...
âœ… Successfully appended 2 new records to Google Sheet.
âœ… Batch processed.
âœ… Finished: 20251209_131419_testing.jpg (15 items)
ğŸ“¤ Uploading batch of 15 records to Google Sheets...
   -> Updating 'Invoice All'...
âœ… Successfully appended 15 new records to Google Sheet.
   -> Updating 'Invoice Verification Required' (2 rows)...
âœ… Successfully appended 2 new records to Google Sheet.
âœ… Batch processed.

============================================================
ğŸ“Š RECONCILIATION REPORT: Bucket Images vs Google Sheet
============================================================
ğŸ“¦ Total images in R2 bucket: 9
âœ… Total unique images in Google Sheet: 9
âŒ Missing from Google Sheet: 0
âœ… SUCCESS: All 9 bucket images are accounted for in Google Sheet!
============================================================

ğŸ§¹ Cleaning up temporary files...
--- Subprocess completed successfully. ---
